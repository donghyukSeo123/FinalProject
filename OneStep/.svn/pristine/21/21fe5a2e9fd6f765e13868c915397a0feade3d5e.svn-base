<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<c:set var="memberVO" value="${memberVO}"></c:set>
        <div id="content" class="main-content">
            <!--  Navbar Starts / Breadcrumb Area  -->
            <div class="sub-header-container">
                <header class="header navbar navbar-expand-sm">
                    <ul class="navbar-nav flex-row">
                        <li>
                            <div class="page-header">
                                <nav class="breadcrumb-one" aria-label="breadcrumb">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="javascript:void(0);">Apps</a></li>
                                        <li class="breadcrumb-item active" aria-current="page"><span>회원정보 수정</span></li>
                                    </ol>
                                </nav>
                            </div>
                        </li>
                    </ul>
                    <ul class="navbar-nav d-flex align-center ml-auto right-side-filter">
                        <li class="">
                            <p class="current-time" id="currentTime"></p>
                            <p class="current-date" id="currentDate"></p>
                        </li>
                    </ul>
                </header>
            </div>
            <!--  Navbar Ends / Breadcrumb Area  -->
            <!-- Main Body Starts -->
            <div class="layout-px-spacing">                
                <div class="row layout-spacing layout-top-spacing" id="cancel-row">
                    <div class="col-lg-12">
                        <div class="">
                            <div class="widget-content searchable-container grid">
                                <div class="card-box add-product">
                                    <form class="">
                                        <div class="row">
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label for="productname" class="strong">닉네임</label>
                                                    <input id="productname" name="productname" type="text" value="${memberVO.memNick}" class="form-control form-control">
                                                </div>
                                               <button type="button" id="jusoBtn" class="mt-2 btn btn-sm btn-primary">주소 변경하기</button>
                                                <div class="form-group mt-2"> 
                                                    <label for="manufacturername" class="">우편번호</label>
                                                    <input id="memZip" name="manufacturername" value="${memberVO.memZip}" type="text" class="form-control form-control">
                                                   	<label for="manufacturername" class="">주소</label>
                                                    <input id="addr1" name="manufacturername" value="${memberVO.memAddr1}" type="text" class="form-control form-control">
                                                    <label for="manufacturername" class="">상세주소</label>
                                                    <input id="addr2" name="manufacturername" value="${memberVO.memAddr2}" type="text" class="form-control form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label for="manufacturerbrand" class="">전화번호</label>
                                                    <input id="manufacturerbrand" name="manufacturerbrand" value="${memberVO.memTel}" type="text" class="form-control form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label for="price" class="">Price</label>
                                                    <input id="price" name="price" type="text" class="form-control form-control">
                                                </div>
                                            </div>
                                        </div>
                                        <button type="submit" class="mr-1 btn btn-sm btn-primary">회원정보 변경하기</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="form-group">
                	<label for="productname" class="strong">현재 비밀번호</label>
                	<input id="productname" name="productname" type="text" class="form-control form-control">
                </div>
                <div class="form-group">
                	<label for="productname" class="strong">변경할 비밀번호</label>
                	<input id="productname" name="productname" type="text" class="form-control form-control">
                </div>
                <button type="button" class="mr-1 btn btn-sm btn-primary">비밀변호 변경하기</button>
                
                
            </div>
            <!-- Main Body Ends -->
            <div class="responsive-msg-component">
                <p>
                    <a class="close-msg-component"><i class="las la-times"></i></a>
                    Please reload the page when you change the viewport size to view the responsive functionalities correctly
                </p>
            </div>
            <!-- Copyright Footer Starts -->
            <div class="footer-wrapper">
                <div class="footer-section f-section-1">
                    <p class="">Copyright © 2021 <a target="_blank" href="https://xato-web.web.app/">XatoWeb</a>, All rights reserved.</p>
                </div>
                <div class="footer-section f-section-2">
                    <p class="">Crafted with extra <i class="las la-heart text-danger"></i></p>
                </div>
            </div>
            <!-- Copyright Footer Ends -->
            <!-- Arrow Starts -->
            <div class="scroll-top-arrow" style="display: none;">
                <i class="las la-angle-up"></i>
            </div>
            <!-- Arrow Ends -->
        </div>
        
        <script type="text/javascript">
			var jusoBtn = $('#jusoBtn');

		$(function(){
			
	        jusoBtn.on("click",function(){
	    	    new daum.Postcode({
	    	        oncomplete: function(data) {
	    	        	 // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

	                    // 각 주소의 노출 규칙에 따라 주소를 조합한다.
	                    // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
	                    var addr = ''; // 주소 변수
	                    var extraAddr = ''; // 참고항목 변수

	                    //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
	                    if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
	                        addr = data.roadAddress;
	                    } else { // 사용자가 지번 주소를 선택했을 경우(J)
	                        addr = data.jibunAddress;
	                    }

	                    // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
	                    if(data.userSelectedType === 'R'){
	                        // 법정동명이 있을 경우 추가한다. (법정리는 제외)
	                        // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
	                        if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
	                            extraAddr += data.bname;
	                        }
	                        // 건물명이 있고, 공동주택일 경우 추가한다.
	                        if(data.buildingName !== '' && data.apartment === 'Y'){
	                            extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
	                        }
	                        // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
	                        if(extraAddr !== ''){
	                            extraAddr = ' (' + extraAddr + ')';
	                        }
	                        // 조합된 참고항목을 해당 필드에 넣는다.
	                        document.getElementById("addr1").value = extraAddr;
	                    
	                    } else {
	                        document.getElementById("addr1").value = '';
	                    }

	                    // 우편번호와 주소 정보를 해당 필드에 넣는다.
	                    document.getElementById('memZip').value = data.zonecode;
	                    document.getElementById("addr1").value = addr;
	                    // 커서를 상세주소 필드로 이동한다.
	                    document.getElementById("addr2").focus();
	    	        }
	    	    }).open();
	    	});
			});
		
		</script>